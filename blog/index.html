<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="Otávio Bambans' personal blog - Technology, programming, and life insights." />
        <meta name="keywords" content="blog, technology, programming, software development, web development" />
        <meta name="author" content="Otávio Rodrigues Bambans" />
        <meta name="robots" content="index, follow" />
        <meta name="language" content="Portuguese" />
        <title>blog@bambans</title>

        <!-- Favicon -->
        <link rel="icon" href="../img/otavio.ico" type="image/x-icon" />

        <!-- Preload critical resources -->
        <link rel="preload" href="../css/normalize.css" as="style" />
        <link rel="preload" href="css/blog.css" as="style" />
        <link rel="preload" href="js/blog-app.js" as="script" />

        <!-- CSS -->
        <link rel="stylesheet" href="../css/normalize.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" 
              integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" 
              crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5.2.0/github-markdown.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" />
        <link rel="stylesheet" href="../css/main.css" />
        <link rel="stylesheet" href="css/blog.css" />
    </head>
    <body>
        <!-- Skip link for accessibility -->
        <a href="#main-content" class="skip-link">Skip to main content</a>

        <!-- Mobile toggle button -->
        <button class="mobile-toggle" 
                id="sidebar-toggle" 
                aria-label="Toggle posts sidebar"
                aria-expanded="false"
                aria-controls="sidebar">
            <span class="prompt">></span> posts
        </button>

        <!-- Sidebar -->
        <aside class="sidebar" 
               id="sidebar" 
               role="complementary" 
               aria-label="Blog posts navigation">
            <div class="sidebar-header">
                <h1 class="sidebar-title">
                    <span class="prompt">></span> blog@bambans
                </h1>
                <nav aria-label="Breadcrumb">
                    <a href="../" 
                       class="back-link"
                       aria-label="Go back to main page">
                        <span class="prompt">></span> cd ../
                    </a>
                </nav>
            </div>
            
            <!-- Search Section -->
            <div class="search-section">
                <div class="search-input-wrapper">
                    <input type="text" 
                           id="search-input" 
                           class="search-input" 
                           placeholder="Search posts..."
                           aria-label="Search blog posts"
                           autocomplete="off">
                    <button id="clear-search" 
                            class="clear-search-btn d-none"
                            aria-label="Clear search">
                        ×
                    </button>
                </div>
                <div id="search-filters" class="search-filters">
                    <select id="tag-filter" class="tag-filter" aria-label="Filter by tag">
                        <option value="">All tags</option>
                    </select>
                </div>
            </div>

            <nav class="posts-navigation" 
                 role="navigation" 
                 aria-label="Blog posts">
                <div id="posts-list" 
                     class="posts-list" 
                     role="list"
                     aria-live="polite"
                     aria-label="Loading posts...">
                    <div class="loading-state">
                        <div class="loading-spinner" aria-hidden="true"></div>
                        <span>Loading posts...</span>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- Main content -->
        <main class="main-content" 
              id="main-content" 
              role="main">
            
            <!-- Content header -->
            <header class="content-header">
                <h1 id="post-title" class="post-title">Welcome to the Blog</h1>
                
                <!-- Post metadata -->
                <div id="post-metadata" 
                     class="post-metadata d-none" 
                     role="region" 
                     aria-label="Post information">
                    <div class="metadata-grid">
                        <div class="metadata-item">
                            <span class="metadata-label">Author:</span>
                            <span class="metadata-value" id="post-author">Otávio Bambans</span>
                        </div>
                        <div class="metadata-item">
                            <span class="metadata-label">Date:</span>
                            <time class="metadata-value" id="post-date" datetime="">-</time>
                        </div>
                        <div class="metadata-item">
                            <span class="metadata-label">Reading time:</span>
                            <span class="metadata-value" id="reading-time">-</span>
                        </div>
                    </div>
                    
                    <!-- Tags -->
                    <div id="post-tags" 
                         class="post-tags" 
                         role="region" 
                         aria-label="Post tags"></div>
                </div>
            </header>
            
            <!-- Post content -->
            <article id="post-content" 
                     class="post-content markdown-body" 
                     role="article"
                     aria-live="polite">
                <div class="loading-state">
                    <div class="loading-spinner" aria-hidden="true"></div>
                    <span>Loading content...</span>
                </div>
            </article>

            <!-- Post navigation -->
            <nav class="post-navigation d-none" 
                 id="post-navigation" 
                 role="navigation" 
                 aria-label="Post navigation">
                <button id="prev-post" 
                        class="nav-button nav-button--prev" 
                        disabled
                        aria-label="Previous post">
                    <span class="prompt">></span> Previous
                </button>
                <button id="next-post" 
                        class="nav-button nav-button--next" 
                        disabled
                        aria-label="Next post">
                    Next <span class="prompt">&lt;</span>
                </button>
            </nav>
        </main>

        <!-- Error modal for better error handling -->
        <div class="error-modal d-none" 
             id="error-modal" 
             role="alert" 
             aria-live="assertive">
            <div class="error-content">
                <h2 class="error-title">Something went wrong</h2>
                <p class="error-message" id="error-message"></p>
                <button class="error-close" 
                        id="error-close"
                        aria-label="Close error message">
                    Close
                </button>
            </div>
        </div>

        <!-- Scripts -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" 
                integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" 
                crossorigin="anonymous" 
                defer></script>
        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js" defer></script>
        
        <!-- Custom scripts -->
        <script src="../js/main.js" defer></script>
        <script src="js/markdown-renderer.js" defer></script>
        <script src="js/mermaid-handler.js" defer></script>
        <script src="js/blog-app.js" defer></script>
        <script src="js/init.js" defer></script>
    </body>
</html>